
import modules ;
import os ;
import path ;
import virtual-target ;

BOOST_ROOT = [ modules.peek : BOOST_ROOT ] ;
LUA_PATH = [ modules.peek : LUA_PATH ] ;

project lv
	: requirements 
		<include>lv
		<include>$(BOOST_ROOT)
	: usage-requirements <include>lv
	: build-dir build
	;

using gcc : : : <compileflags>-std=gnu++17 ;

rule tag-names ( name : type ? : property-set )
{
	if $(type) in STATIC_LIB SHARED_LIB EXE && [ $(property-set).get <variant> ] = debug
	{
		name = $(name)d ;
	}

	local result = [ virtual-target.add-prefix-and-suffix $(name) : $(type) : $(property-set) ] ;

	return $(result) ;
}

local proj =
	lv/src/lv
	lv/src/FrameWork
	lv/src/Toolkit
	UnitTest
	Tools/Repeater
	;

for p in $(proj)
{
	build-project $(p) ;
}

